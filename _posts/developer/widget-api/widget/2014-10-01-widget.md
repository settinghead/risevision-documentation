---
layout: developer-post
title:  "Widget"
date:   2014-10-01 10:52:00
category: developer/widget-api/widget
parent-order: 0
order: 0
---

Widgets are an easier and better alternative than Gadgets for creating content for your Displays. Whereas Gadgets are written in XML and require you to be familiar with a handful of proprietary tags, Widgets are simple pages written using languages that Web Developers are already familiar with – HTML, CSS and Javascript.

## Building a Widget

A Widget needs to support the Rise Widget API by:
- Loading the `http://rvashow2.appspot.com/gadgets/gadgets.min.js` Javascript file.
- Sending the *Ready* event.
- Optionally providing support for the *Play*, *Pause* and *Stop* commands, as well as the *Done* event.

### Creating the Settings Page

Unlike a Gadget, a Widget is defined in two separate HTML files – one that defines the settings and the other that runs on a Display. To build the Widget’s settings page, simply add the HTML, Javascript and CSS necessary for showing the settings you want, and save it in its own HTML file. Be sure to include a `<script>` tag that loads the `gadgets.min.js` file:

`<script src="http://rvashow2.appspot.com/gadgets/gadgets.min.js"></script>`

The Editor shows the Widget’s settings in a full screen transparent `<iframe>`. Unless you style it, your settings will appear in the upper left-hand corner of the window and will overlap the existing text. We’ve already provided some default styling that you can use in [this CSS file](https://s3.amazonaws.com/Common-Test/Settings/css/Widget.css). You’ll likely want to take your own copy and modify it, as the settings dialog will be sized at 400 x 200 by default. Then, just link to it in your HTML page and add the following base HTML:

```
<body>
  <div class="overlay"></div>
  <div class="dialog">
    //Put the HTML for the settings here.
  </div>
</body>
```
The settings page will also need to provide a Save button. Again, you can use our base CSS styling and then add the following HTML:

```
<div class="actions">
  <button id="save" class="action" type="button">
    <span>Save</span>
  </button>
</div>
```

### Saving the Settings

Although Widgets no longer use `<UserPref>` elements, a Widget saves its settings in exactly the same way as a Gadget with a custom settings UI does. In a nutshell, the Widget needs to construct a query string with parameters that begin with `up_`.

For example, suppose a Widget needs to save `folderID` and `fileID` parameters. I would create a query string parameter and pass it to the Editor:

```
var params = "up_folderID=" + folderID + "&up_fileID=" + fileID;
var settings = {
  params: params,
  additionalParams: ""
};

gadgets.rpc.call("", "rscmd_saveSettings", null, settings);
```

Widget settings that are saved in this way can be read using the `gadgets.Prefs` function as per usual. You can also pass longer values in the `additionalParams` property if necessary.

### Creating the Widget

There’s really nothing special about the Widget itself other than the fact that its functionality is separate from its settings, and it needs to load `gadgets.min.js`:

`<script src="http://rvashow2.appspot.com/gadgets/gadgets.min.js"></script>`

Just as with a Gadget, a Widget should send the *Ready* event to tell the Viewer when it has finished initializing and is ready to be shown. It can also support the *Play*, *Pause* and *Stop* commands, as well as the *Done* event, although this is not strictly required.

You can view the source code for the [Web Page Widget](https://github.com/Rise-Vision/widget-web-page) as an example of how to construct a Widget.